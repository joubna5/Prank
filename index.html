<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’–</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Will You Be My Valentine?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="overlay"></div>

    <div class="proposal-box">
        <h1>Can we be each other's Valentine, My princess?</h1>
        <div class="main-btn-wrapper">
            <div class="btn-slot">
                <button class="val-btn" id="yesBtn" onclick="handleYes()">Yes</button>
            </div>
            <div class="btn-slot">
                <button class="val-btn" id="noBtn" onmouseover="moveNoButton()" onclick="moveNoButton()">No</button>
            </div>
        </div>
    </div>

    <div id="alertYes" class="custom-alert">
        <h2>Oh, so you do love me ðŸ’–</h2>
         <p>FINALLY, now wait till the GIFT is ready my little boo</p>
        <button onclick="closeAlert('alertYes')">Close</button>
    </div>

    <div id="alertNo" class="custom-alert">
        <h2>No way you said yes</h2>
        <p>Now we wait till the gift is ready baby girl</p>
        <button onclick="closeAlert('alertNo')">Close</button>
    </div>

    <script>
        let moveCount = 0;
        let yesScale = 1;

        function handleYes() {
            if (moveCount === 0) showAlert('alertYes');
            else showAlert('alertNo');
        }

        function moveNoButton() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            moveCount++;

            // Immediately switch to fixed to allow free movement across the screen
            noBtn.style.position = 'fixed';

            if (moveCount > 2) {
                yesScale += 0.4;
                yesBtn.style.transform = `scale(${yesScale})`;
            }

            const vw = window.innerWidth;
            const vh = window.innerHeight;
            const btnW = noBtn.offsetWidth;
            const btnH = noBtn.offsetHeight;

            // 1. OUTER DEAD ZONE: HARD 140PX MARGIN
            const minX = 140;
            const maxX = vw - 140;
            const minY = 140;
            const maxY = vh - 140;

            const yesRect = yesBtn.getBoundingClientRect();
            
            let finalX, finalY;
            let foundSafeSpot = false;
            let attempts = 0;

            // 2. INNER DEAD ZONE: Avoid the Yes button
            while (!foundSafeSpot && attempts < 100) {
                let testX = Math.random() * (maxX - minX - btnW) + minX;
                let testY = Math.random() * (maxY - minY - btnH) + minY;

                const isOverlappingYes = !(
                    testX + btnW < yesRect.left ||
                    testX > yesRect.right ||
                    testY + btnH < yesRect.top ||
                    testY > yesRect.bottom
                );

                if (!isOverlappingYes) {
                    finalX = testX;
                    finalY = testY;
                    foundSafeSpot = true;
                }
                attempts++;
            }

            // 3. EMERGENCY JITTER: 6px fallback
            if (!foundSafeSpot) {
                const currentRect = noBtn.getBoundingClientRect();
                finalX = currentRect.left + (Math.random() > 0.5 ? 15 : -15);
                finalY = currentRect.top + (Math.random() > 0.5 ? 15 : -15);
            }

            // FINAL CLAMP: Strict 140px lockdown
            finalX = Math.max(minX, Math.min(finalX, maxX - btnW));
            finalY = Math.max(minY, Math.min(finalY, maxY - btnH));

            noBtn.style.left = `${finalX}px`;
            noBtn.style.top = `${finalY}px`;
            noBtn.style.zIndex = "2000"; 
        }

        function showAlert(id) {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById(id).style.display = 'block';
        }

        function closeAlert(id) {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById(id).style.display = 'none';
        }
    </script>
</body>
</html>
